<!DOCTYPE html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />

    <!-- Bootstrap CSS -->
    <link
      href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css"
      rel="stylesheet"
      integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC"
      crossorigin="anonymous"
    />

    <title>Hello, world!</title>
  </head>
  <body>
    <h1 style="text-align: center">Quotes Generator</h1>

    <div id="quotes" class="container">
      <input
        class="mb-2"
        type="text"
        name="author"
        placeholder="Author of the quote"
      />
      <textarea
        name="quote"
        class="form-control mb-2"
        placeholder="Text of the quote"
      ></textarea>

      <button class="btn btn-primary mb-3">Add a new quote</button>
    </div>

    <div id="quotes" class="ms-4"></div>
    <script
      src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
      integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
      crossorigin="anonymous"
    ></script>

    <script
      src="https://code.jquery.com/jquery-3.7.1.js"
      integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
      crossorigin="anonymous"
    ></script>

    <script>
      var fictionalQuotes = [
        {
          quote:
            "All we have to decide is what to do with the time that is given to us.",
          author: "Gandalf",
        },
        {
          quote: "It does not do to dwell on dreams and forget to live.",
          author: "Albus Dumbledore",
        },
        {
          quote:
            "It's the job that's never started as takes longest to finish.",
          author: "Samwise Gamgee",
        },
        {
          quote:
            "It is our choices, Harry, that show what we truly are, far more than our abilities.",
          author: "Albus Dumbledore",
        },
        { quote: "Do or do not. There is no try.", author: "Yoda" },
        { quote: "The greatest teacher, failure is.", author: "Yoda" },
        { quote: "To infinity and beyond!", author: "Buzz Lightyear" },
        { quote: "Why so serious?", author: "The Joker" },
        { quote: "I am Groot.", author: "Groot" },
        {
          quote: "With great power comes great responsibility.",
          author: "Uncle Ben",
        },
      ];

      // jQuery
      for (let i = 0; i < fictionalQuotes.length; i++) {
        document.getElementById("quotes").innerHTML += `
            <div class="card mb-2">
                <div class="card-body">
                    <h1>${fictionalQuotes[i].author}</h1>
                    <p>${fictionalQuotes[i].quote}</p>
                    <button class="btn btn-sm btn-danger mb-3" data-index="$[i]">Delete</button>
                </div>
            </div>`;
      }
      $(document).on("click", ".btn-danger", function () {
        //console.log($(this).attr("data-index"));
        fictionalQuotes.splice($(this).attr("data-index"), 1);
        console.log(fictionalQuotes);
        $(this).closest(".card").remove();
      });

      $(document).on("click", ".btn-primary", function () {
        let quote = {
          author: $("[name=author]").val(),
          quote: $("[name=quote]").val(),
        };
        fictionalQuotes.push(quote);

        // add new quote cards
        document.getElementById("quotes").innerHTML += `
            <div class="card mb-2">
                <div class="card-body">
                    <h1>${quote.author}</h1>
                    <p>${quote.quote}</p>
                    <button class="btn btn-sm btn-danger mb-3">Delete</button>
                </div>
            </div>`;
        console.log(quote);
      });
    </script>
  </body>
</html>
